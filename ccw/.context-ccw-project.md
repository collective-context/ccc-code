# CCC CODE Project-Context

**Für:** Agents wie Aider und LLMs
**Zweck:** Schneller, vollständiger Projekt-Überblick
**Letzte Aktualisierung:** 2025-10-17

---

## 📦 Projekt-Übersicht

**Collective Context Commander (CCC CODE)**
- Fork von WordOps für Python Cement Multi-Agent KI-Orchestrierung
- Repository: https://github.com/collective-context/ccc-code
- Dokumentation: https://collective-context.org/

---

## 🗂️  ünf-Sterne-Architektur

```
wo/   → Original    (cement v2) → READ-ONLY Referenz verbunden mit WordOps
ccw/  → Production  (cement v2) → 📦 1:1 WordOps Fork Aktive Entwicklung
cca/  → Alpha-Labor (cement v2) → Lernen & Testen
ccb/  → Beta-Labor  (cement v3) → Moderne Features
ccc/  → Production  (cement v3) → 📦 Aktive Entwicklung

```

| Python   | Cement   | Bash Install | Zweck/Rolle         | Status       |
|----------|----------|--------------|---------------------|--------------|
| **wo/**  | v2.10.14 | wo/install   | Original-Referenz   | ⛔ READ-ONLY |
| **ccw/** | v2.10.14 | ccw/install  | 1:1 Fork Production | 📦 AKTIV ✅  |
| **cca/** | v2.10.14 | cca/install  | Alpha - für ccw/    | 📋 TEST ✅   |
| **ccb/** | v3.0.14  | ccb/install  | Beta modern für ccc/| 📋 TEST ✅   |
| **ccc/** | v3.0.14  | ccc/install  | Production CCC CODE | 📦 AKTIV ✅  |

---

## 📋 KRITISCHE REGELN

1. **wo/** Dateien im wo/ Verzeichnis niemals ändern (READ-ONLY!)
2. Logik in ccw/ vs wo/ niemals ändern (nur Namensänderungen!)
3. Das ccw/ und das wo/ Projekt funktionieren in derselben BOX nebeneinander, schreiben aber in dieselben NGNIX Config Dateien und MySQL Datenbank
4. **Änderungen:** Änderungen am Quellcode nur beschreiben, ohne die Änderung zurück zu schreiben in die Datei

### 📋 IMMER:
4. **Vor Commit:** Syntax-Check mit flake8
5. **Nach Commit:** SysOps erinnern, dass er /git push ausführt und GithHub Action prüft

---

## 📋 Cement Versionen (Stand Oktober 2025)

### Verfügbare Versionen:
- **v2.10.14** - Stable, API: `cement.core.foundation.CementApp`
- **v3.0.14** - Current, API: `cement.App` (moderne Syntax)

## 📋 Setup Files Strategie

```python
# wo/setup.py (ccw/setup.py - cca/setup.py):
'cement==2.10.14', # Exakt v2 gepinnt

# ccc/pyproject.toml (ccb/pyproject.toml)
'cement>=3.0.0',   # v3 current stable
```

### Installation Flow:

**WO/CCW/CCA (nutzt wo/ccw/cca setup.py):**
```bash
sudo -E bash ccw/install
# → pip install .
# → findet setup.py automatisch
# → installiert cement v2
```

**CCB/CCC (nutzt ccb/ccc setup.py):**
```bash
sudo -E bash ccc/install
# → pip install .
# → findet pyproject.toml automatisch
# → installiert cement v3~/prog/ai/git/collective-context/ccc-code
```

---

## 📦 Arbeitsweise für AI Agends wie Aider

### 1. Vor dem Start:
```bash
# Diese Datei lesen!
# Projekt-Struktur verstehen
# Cement-Versionen kennen
```

### 2. Bei Aufgaben in ccw/ Production:
- Nur Namensänderungen: wo → ccw, WO → CCW, wordops → cccode, WordOps → CCC CODE
- KEINE Logik-Änderungen!
- Vergleich mit read-only wo/ bei Unsicherheit
- Commit: `refactor(file): rename wo to ccw`

### 3. Bei Aufgaben in cca/ Alpha Test:
- Gleiche v2 API wie wo/ und ccw/
- cca Minimal halten (kein Stack-Ballast)
- Fixes können direkt auf ccw/ übertragen werden
- Commit: `feat(cca): description`

### 4. Bei Aufgaben in ccb/ Beta Test:
- Cement v3 API (modern)
- ccb Minimal halten (kein Stack-Ballast)
- Fixes können direkt auf ccc/ übertragen werden
- Commit: `feat(ccb): description`

### 5. Bei Aufgaben in ccc/ Production (Multi-Agent KI-Orchestrierung):
- Cement v3 API (modern)
- ccc übernimmt auch Aufgaben vom ccw WordOps Fork im neuen ccc Stack
- ccc baut auf derselben Verzeichnis Struktur auf wie das Original WordOps (wo > ccw)
- Neue Programm-Pakete und neue Funktionen werden gleich in ccc umgesetzt
- Commit: `feat(ccc): description`

### 6. Bei install Bash oder setup.py/pyproject.toml Änderungen auf das Verzeichnis achten:
- **install + setup.py** → Betrifft wo/  ccw/ cca/	(v2 Cement API)
- **install + pyproject.toml ** → Betrifft ccb/ ccc/	(v3 Cement API)
- Niemals Versionen mischen!

---

## 📋 Quick Commands

### Syntax-Check:
```bash
flake8 ccc/cli/file.py
python setup.py check
bash -n install-script
```

### Git Workflow:
```bash
git add file
git commit -m "type(scope): message"
git push (SysOps beauftragen)
# → Dann GitHub Actions prüfen (Von SysOps Datei anfordern)!
```

### Cement Version prüfen:
```bash
/opt/ccw/bin/pip list | grep cement  # → v2.10.14
/opt/ccc/bin/pip list | grep cement  # → v3.0.14
```

---

## 📊 Installations-Matrix

| System | Install Script | Setup File   | Cement   | Entry Point |
|--------|----------------|--------------|----------|-------------|
| wo     | wo/install     | wo/setup.py  | v2.10.14 | wo          |
| ccw    | ccw/install    | ccw/setup.py | v2.10.14 | ccw         |
| cca    | cca/install    | cca/setup.py | v2.10.14 | cca         |
| ccb    | ccb/install    | ccb/setup.py | v3.0.14  | ccb         |
| ccc    | ccc/install    | ccc/setup.py | v3.0.14  | ccb         |

### Entry Points in setup.py files Cement v2 vw v3:

**setup.py im wo/ ccw/ cca/ Verzeichnis für Cement v2:**
- Alternativ: 'wo=wo.cli.main:main'
- Alternativ  'cca=cca.cli.main:main'
- ccb und ccc NICHT hier!
```python
entry_points={
    'console_scripts': [
        'ccw=ccw.cli.main:main',
    ],
},
```

---

## 🎓 Code-Beispiele

### Cement v2 API (wo/ccw/cca):
```python
from cement.core.foundation import CementApp
from cement.core.controller import CementBaseController, expose

class CCAApp(CementApp):
    class Meta:
        label = 'ccw'
        plugin_bootstrap = 'ccw.cli.plugins'  # Auto-load

class CCAController(CementBaseController):
    @expose(help='Command description')
    def command(self):
        pass
```

### Cement v3 API (ccb - ccc):
```python
from cement import App, Controller, ex

class CCBApp(App):
    class Meta:
        label = 'ccc'
        plugin_bootstrap = 'ccc.cli.plugins'

class CCBController(Controller):
    @ex(help='Command description')
    def command(self):
        pass

# WICHTIG: In v3 muss load() manuell aufgerufen werden!
def main():
    with CCBApp() as app:
        from ccc.cli.plugins import load
        load(app)  # Manuell laden!
        app.run()
```

---

## 🎓 Typische Szenarien

### Szenario 1: wo/ Update aus WordOps Quelle übernehmen

```bash
# 1. Änderungen in wo/ Fork (READ-ONLY für uns)
# 2. Vergleiche: diff wo/file ccw/file
# 3. Übernehme zu ccw/ mit Namensänderungen
# 4. Commit: refactor(ccw): sync from wo
```

### Szenario 2: Neue Funktion in cca/ (Alpha) testen

```bash
# 1. Code in cca/ schreiben (Alpha, Cement v2)
# 2. Testen: sudo -E bash cca/install && cca command
# 3. Wenn OK: Auf ccw/ übertragen (vorher SysOps fragen)
# 4. Commit: feat(cca): new feature
```

### Szenario 3: Neue Funktion in ccb/ (Beta) testen

```bash
# 1. Code in ccb/ schreiben (Beta, Cement v3)
# 2. Testen: sudo -E bash ccb/install && ccb command
# 3. Wenn OK: Auf ccc/ übertragen (vorher SysOps fragen)
# 4. Commit: feat(ccc): new feature
```

---

## ⚠️ äufige Fehler vermeiden

### 🎓 FALSCH:
```python
# setup.py im Verzeichnis wo/ ccw/ cca/ mit Cement v3:
'cement>=3.0.0',  # NEIN! v2 Systeme!

# setup.py im Verzeichnis wo/ ccw/ cca/ zu unspezifisch:
'cement>=2.0.0',  # NEIN! Zu unspezifisch!

# setup.py im Verzeichnis ccb/ oder ccc/ mit Cement v2:
'cement==2.10.14',  # NEIN! v3 System!
```

### 📊 RICHTIG:
```python
# setup.py für wo ccw cca:
'cement==2.10.14',  # Exakt v2

# setup.py für ccb ccc:
'cement>=3.0.0',  # v3 current stable
```

---

## 📊 Wichtige (Bash-Install) Dateien und Python Verzeichnisse

```
ccc-code/
├── wo/install		# READ-ONLY ⛔ (wo installer)
├── ccw/install		# ccw installer (WordOps Fork)
├── cca/install		# cca installer (Alpa)
├── ccb/install		# ccb installer (Beta)
├── ccc/install		# ccc installer (CCC CODE)
├── ccw/setup.py        # Cement v2 Setup (wo/ ccw/ cca/)
├── ccc/pyproject.toml	# Cement v3 Setup (ccb/ ccc/)
├── wo/wo/*.py		# ⛔ READ-ONLY Original
├── ccw/ccw/*.py	# 📦 Production CCC CODE (v2)📊
├── cca/cca/*.py	# 📋 Alpha-Labor (v2)
├── ccb/ccb/*.py	# 📋 Beta-Labor (v3)
├── ccc/ccc/*.py	# 📦 Production CCC CODE (v2)
└── .context-ccw-project.md	# Diese Datei
```

---

## 📋 Zusammenfassung für AI Agends wie Aider-1 und Chat LLMs wie Grok, Claude, usw.

**Die wichtigsten Punkte:**

1. **Fünf Systeme:** wo (WorOps, read-only) - ccw (WordOps Fork) - cca (Alpha) - ccb (Beta), ccc (CCC CODE)
2. **Immer eigenen Setup Files:** wo/ ccw/ cca/ setup.py (v2) und ccb/ ccc/ setup.py (v3)
3. **Cement Versionen:** v2.10.14 (stabil) und v3.0.14 (stabil +modern)
4. **NIEMALS wo/ ändern!** Nur ccw/cca/ccb/ccc bearbeiten
5. **Bei Zweifeln:** DevOps fragen, nicht raten!

**Bei Problemen:**
- GitHub Actions Failed? → Log prüfen
- ImportError? → Cement Version prüfen
- Syntax Error? → flake8 laufen lassen
- Unsicher? → DevOps fragen!

---

**Ende der Projekt-Konfiguration**

*Diese Datei vor JEDER Aufgabe lesen!* ✅
